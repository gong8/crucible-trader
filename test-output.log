Scope: 11 of 12 workspace projects
packages/logger test$ node --loader ts-node/esm --test test/logger.test.ts
packages/metrics test$ node --loader ts-node/esm --test test/metrics.test.ts
packages/risk test$ node --loader ts-node/esm --test test/risk.test.ts
packages/report test$ node --loader ts-node/esm --test test/report.test.ts
packages/risk test: (node:52095) ExperimentalWarning: `--experimental-loader` may be removed in the future; instead use `register()`:
packages/risk test: --import 'data:text/javascript,import { register } from "node:module"; import { pathToFileURL } from "node:url"; register("ts-node/esm", pathToFileURL("./"));'
packages/risk test: (Use `node --trace-warnings ...` to show where the warning was created)
packages/risk test: (node:52095) [DEP0180] DeprecationWarning: fs.Stats constructor is deprecated.
packages/risk test: (Use `node --trace-deprecation ...` to show where the warning was created)
packages/metrics test: (node:52097) ExperimentalWarning: `--experimental-loader` may be removed in the future; instead use `register()`:
packages/metrics test: --import 'data:text/javascript,import { register } from "node:module"; import { pathToFileURL } from "node:url"; register("ts-node/esm", pathToFileURL("./"));'
packages/metrics test: (Use `node --trace-warnings ...` to show where the warning was created)
packages/metrics test: (node:52097) [DEP0180] DeprecationWarning: fs.Stats constructor is deprecated.
packages/metrics test: (Use `node --trace-deprecation ...` to show where the warning was created)
packages/logger test: (node:52096) ExperimentalWarning: `--experimental-loader` may be removed in the future; instead use `register()`:
packages/logger test: --import 'data:text/javascript,import { register } from "node:module"; import { pathToFileURL } from "node:url"; register("ts-node/esm", pathToFileURL("./"));'
packages/logger test: (Use `node --trace-warnings ...` to show where the warning was created)
packages/logger test: (node:52096) [DEP0180] DeprecationWarning: fs.Stats constructor is deprecated.
packages/logger test: (Use `node --trace-deprecation ...` to show where the warning was created)
packages/report test: (node:52094) ExperimentalWarning: `--experimental-loader` may be removed in the future; instead use `register()`:
packages/report test: --import 'data:text/javascript,import { register } from "node:module"; import { pathToFileURL } from "node:url"; register("ts-node/esm", pathToFileURL("./"));'
packages/report test: (Use `node --trace-warnings ...` to show where the warning was created)
packages/report test: (node:52094) [DEP0180] DeprecationWarning: fs.Stats constructor is deprecated.
packages/report test: (Use `node --trace-deprecation ...` to show where the warning was created)
packages/report test: âœ” createReportManifest returns a report manifest with title (0.548084ms)
packages/report test: âœ” createReportManifest returns expected placeholder title (0.072166ms)
packages/risk test: âœ” createDefaultRiskLimits returns expected default values (0.620167ms)
packages/risk test: âœ” createDefaultRiskLimits returns readonly object structure (0.109708ms)
packages/risk test: âœ” createDefaultRiskLimits returns new object on each call (0.467083ms)
packages/risk test: âœ” default risk limits are positive numbers (0.073583ms)
packages/risk test: âœ” default risk limits are within reasonable ranges (0.077ms)
packages/risk test: âœ” default risk limits have expected property types (0.094833ms)
packages/risk test: âœ” maxDailyLossPct default allows for reasonable drawdown (0.055542ms)
packages/risk test: âœ” maxPositionPct default prevents over-concentration (0.047666ms)
packages/risk test: âœ” orderCap default provides reasonable trade sizing (0.061625ms)
packages/risk test: âœ” killSwitchDrawdownPct default protects against catastrophic losses (0.145166ms)
packages/risk test: âœ” cooldownMinutes default allows for recovery period (0.053291ms)
packages/risk test: âœ” risk limits are consistent with each other (0.045333ms)
packages/report test: âœ” createReportManifest returns readonly structure (0.064833ms)
packages/report test: âœ” createReportManifest returns new object on each call (0.460209ms)
packages/report test: âœ” report manifest has correct interface structure (0.239583ms)
packages/report test: âœ” report manifest title is non-empty (0.086667ms)
packages/report test: âœ” report manifest title contains expected keywords (0.08425ms)
packages/report test: â„¹ tests 7
packages/report test: â„¹ suites 0
packages/report test: â„¹ pass 7
packages/report test: â„¹ fail 0
packages/report test: â„¹ cancelled 0
packages/report test: â„¹ skipped 0
packages/report test: â„¹ todo 0
packages/report test: â„¹ duration_ms 665.705584
packages/risk test: â„¹ tests 12
packages/risk test: â„¹ suites 0
packages/risk test: â„¹ pass 12
packages/risk test: â„¹ fail 0
packages/risk test: â„¹ cancelled 0
packages/risk test: â„¹ skipped 0
packages/risk test: â„¹ todo 0
packages/risk test: â„¹ duration_ms 665.583709
packages/report test: Done
packages/risk test: Done
packages/sdk test$ node --loader ts-node/esm --test test/sdk-validation.test.ts test/strategies.test.ts test/strategy-config.test.ts
packages/logger test: âœ” createLogger returns a logger with the correct module name (0.607125ms)
packages/logger test: âœ” logger.log writes JSON formatted output to stdout (2.671083ms)
packages/logger test: âœ” logger.debug calls log with debug level (0.257167ms)
packages/logger test: âœ” logger.info calls log with info level (0.191208ms)
packages/logger test: âœ” logger.warn calls log with warn level (0.166167ms)
packages/logger test: âœ” logger.error writes to stderr and uses error level (0.183417ms)
packages/logger test: âœ” logger includes runId in output when provided (0.164583ms)
packages/logger test: âœ” logger excludes runId when not a string (0.90225ms)
packages/logger test: âœ” logger handles empty metadata (0.1775ms)
packages/logger test: âœ” logger handles complex metadata (1.073667ms)
packages/logger test: âœ” logger timestamp is in ISO format (0.783042ms)
packages/logger test: âœ” multiple loggers with different modules don't interfere (0.165125ms)
packages/logger test: â„¹ tests 12
packages/logger test: â„¹ suites 0
packages/logger test: â„¹ pass 12
packages/logger test: â„¹ fail 0
packages/logger test: â„¹ cancelled 0
packages/logger test: â„¹ skipped 0
packages/logger test: â„¹ todo 0
packages/logger test: â„¹ duration_ms 716.24025
packages/logger test: Done
packages/metrics test: âœ” calculateReturns computes sequential percentage returns (1.485541ms)
packages/metrics test: âœ” calculateReturns returns empty array for empty input (0.086417ms)
packages/metrics test: âœ” calculateReturns returns empty array for single point (0.073958ms)
packages/metrics test: âœ” calculateReturns handles equity of zero gracefully (0.060458ms)
packages/metrics test: âœ” calculateReturns handles negative equity (0.0595ms)
packages/metrics test: âœ” calculateReturns computes returns for all positive equity (0.06525ms)
packages/metrics test: âœ” calculateReturns handles flat equity curve (0.073208ms)
packages/metrics test: âœ” calculateSharpe returns zero when variance is zero (0.141958ms)
packages/metrics test: âœ” calculateSharpe returns zero for empty points (0.058208ms)
packages/metrics test: âœ” calculateSharpe returns zero for single point (0.0955ms)
packages/metrics test: âœ” calculateSharpe computes value for increasing equity (0.072958ms)
packages/metrics test: âœ” calculateSharpe handles flat equity curve (0.061209ms)
packages/metrics test: âœ” calculateSharpe with custom risk-free rate (0.039041ms)
packages/metrics test: âœ” calculateSharpe handles volatile equity curve (0.041083ms)
packages/metrics test: âœ” calculateSortino accounts for downside deviation (0.128917ms)
packages/metrics test: âœ” calculateSortino returns zero for empty points (0.041916ms)
packages/metrics test: âœ” calculateSortino returns zero when no downside (0.03725ms)
packages/metrics test: âœ” calculateSortino handles all negative returns (0.036958ms)
packages/metrics test: âœ” calculateSortino with custom risk-free rate (0.038667ms)
packages/metrics test: âœ” calculateSortino handles mixed positive and negative returns (0.035792ms)
packages/metrics test: âœ” calculateMaxDrawdown identifies largest drop (0.064959ms)
packages/metrics test: âœ” calculateMaxDrawdown returns zero for empty points (0.033666ms)
packages/metrics test: âœ” calculateMaxDrawdown returns zero for single point (0.032333ms)
packages/metrics test: âœ” calculateMaxDrawdown returns zero for always increasing equity (0.034042ms)
packages/metrics test: âœ” calculateMaxDrawdown handles severe drawdown (0.046333ms)
packages/metrics test: âœ” calculateMaxDrawdown handles multiple drawdowns (0.04125ms)
packages/metrics test: âœ” calculateMaxDrawdown handles equity going to zero (0.033291ms)
packages/metrics test: âœ” calculateCagr handles chronological data (0.062083ms)
packages/metrics test: âœ” calculateCagr returns zero for empty points (0.037584ms)
packages/metrics test: âœ” calculateCagr returns zero for single point (0.030875ms)
packages/metrics test: âœ” calculateCagr computes positive value for growth (0.053167ms)
packages/metrics test: âœ” calculateCagr computes negative value for loss (0.046292ms)
packages/metrics test: âœ” calculateCagr handles zero starting equity (0.032875ms)
packages/metrics test: âœ” calculateCagr handles negative equity (0.041666ms)
packages/metrics test: âœ” calculateCagr handles invalid timestamps (0.034667ms)
packages/metrics test: âœ” calculateCagr handles same start and end time (0.038875ms)
packages/metrics test: âœ” calculateCagr handles multi-year period (0.03625ms)
packages/metrics test: âœ” calculateMetricsSummary aggregates metrics (0.085666ms)
packages/metrics test: âœ” calculateMetricsSummary returns zeros for empty points (0.038959ms)
packages/metrics test: âœ” calculateMetricsSummary computes totalPnl correctly (0.042166ms)
packages/metrics test: âœ” calculateMetricsSummary computes totalReturn correctly (0.095667ms)
packages/metrics test: âœ” calculateMetricsSummary handles negative returns (0.10875ms)
packages/metrics test: âœ” calculateMetricsSummary handles zero starting equity (0.053875ms)
packages/metrics test: âœ” calculateMetricsSummary all metrics are finite (0.074709ms)
packages/metrics test: âœ” calculateMetricsSummary handles large equity values (0.049625ms)
packages/metrics test: â„¹ tests 45
packages/metrics test: â„¹ suites 0
packages/metrics test: â„¹ pass 45
packages/metrics test: â„¹ fail 0
packages/metrics test: â„¹ cancelled 0
packages/metrics test: â„¹ skipped 0
packages/metrics test: â„¹ todo 0
packages/metrics test: â„¹ duration_ms 760.827209
packages/metrics test: Done
packages/sdk test: (node:52128) ExperimentalWarning: `--experimental-loader` may be removed in the future; instead use `register()`:
packages/sdk test: --import 'data:text/javascript,import { register } from "node:module"; import { pathToFileURL } from "node:url"; register("ts-node/esm", pathToFileURL("./"));'
packages/sdk test: (Use `node --trace-warnings ...` to show where the warning was created)
packages/sdk test: (node:52128) [DEP0180] DeprecationWarning: fs.Stats constructor is deprecated.
packages/sdk test: (Use `node --trace-deprecation ...` to show where the warning was created)
packages/sdk test: âœ” DataRequestSchema validates valid request (1.2675ms)
packages/sdk test: âœ” DataRequestSchema rejects invalid source (0.396917ms)
packages/sdk test: âœ” DataRequestSchema rejects empty symbol (0.126541ms)
packages/sdk test: âœ” DataRequestSchema rejects invalid timeframe (0.094875ms)
packages/sdk test: âœ” DataRequestSchema accepts all valid sources (0.154666ms)
packages/sdk test: âœ” DataRequestSchema accepts all valid timeframes (0.113625ms)
packages/sdk test: âœ” DataRequestSchema makes adjusted optional (0.062125ms)
packages/sdk test: âœ” DataRequestSchema rejects non-boolean adjusted (0.079084ms)
packages/sdk test: âœ” BacktestRequestSchema validates valid request (0.356042ms)
packages/sdk test: âœ” BacktestRequestSchema rejects empty runName (0.153125ms)
packages/sdk test: âœ” BacktestRequestSchema rejects empty data array (0.084209ms)
packages/sdk test: âœ” BacktestRequestSchema rejects negative fees (0.114959ms)
packages/sdk test: âœ” BacktestRequestSchema rejects non-positive initialCash (0.088417ms)
packages/sdk test: âœ” BacktestRequestSchema accepts optional seed (0.098083ms)
packages/sdk test: âœ” BacktestRequestSchema rejects non-integer seed (0.097708ms)
packages/sdk test: âœ” BacktestRequestSchema accepts valid metrics array (0.491041ms)
packages/sdk test: âœ” BacktestRequestSchema rejects invalid metrics (0.1385ms)
packages/sdk test: âœ” BacktestResultSchema validates valid result (0.10725ms)
packages/sdk test: âœ” BacktestResultSchema rejects empty runId (0.069292ms)
packages/sdk test: âœ” BacktestResultSchema makes reportMd optional (0.059625ms)
packages/sdk test: âœ” RiskProfileSchema validates valid profile (0.052541ms)
packages/sdk test: âœ” RiskProfileSchema rejects negative percentages (0.050916ms)
packages/sdk test: âœ” RiskProfileSchema rejects negative cooldown (0.046208ms)
packages/sdk test: âœ” RiskProfileSchema rejects non-integer cooldown (0.048583ms)
packages/sdk test: âœ” assertValid returns parsed data for valid input (0.482583ms)
packages/sdk test: âœ” assertValid throws Error for invalid input (0.334833ms)
packages/sdk test: âœ” assertValid error message includes field path (0.08575ms)
packages/sdk test: âœ” assertValid uses default label when not provided (0.109875ms)
packages/sdk test: (node:52129) ExperimentalWarning: `--experimental-loader` may be removed in the future; instead use `register()`:
packages/sdk test: --import 'data:text/javascript,import { register } from "node:module"; import { pathToFileURL } from "node:url"; register("ts-node/esm", pathToFileURL("./"));'
packages/sdk test: (Use `node --trace-warnings ...` to show where the warning was created)
packages/sdk test: (node:52129) [DEP0180] DeprecationWarning: fs.Stats constructor is deprecated.
packages/sdk test: (Use `node --trace-deprecation ...` to show where the warning was created)
packages/sdk test: âœ” sma crossover emits buy and sell signals on crossovers (2.377ms)
packages/sdk test: âœ” momentum strategy reacts to sustained moves (0.246209ms)
packages/sdk test: âœ” mean reversion strategy triggers on z-score extremes (0.222917ms)
packages/sdk test: âœ” breakout strategy emits signals on range breaks (0.265833ms)
packages/sdk test: (node:52130) ExperimentalWarning: `--experimental-loader` may be removed in the future; instead use `register()`:
packages/sdk test: --import 'data:text/javascript,import { register } from "node:module"; import { pathToFileURL } from "node:url"; register("ts-node/esm", pathToFileURL("./"));'
packages/sdk test: (Use `node --trace-warnings ...` to show where the warning was created)
packages/sdk test: (node:52130) [DEP0180] DeprecationWarning: fs.Stats constructor is deprecated.
packages/sdk test: (Use `node --trace-deprecation ...` to show where the warning was created)
packages/sdk test: âœ” all strategy defaults satisfy their schemas (1.170917ms)
packages/sdk test: âœ” invalid SMA crossover params throw schema errors (0.196833ms)
packages/sdk test: â„¹ tests 34
packages/sdk test: â„¹ suites 0
packages/sdk test: â„¹ pass 34
packages/sdk test: â„¹ fail 0
packages/sdk test: â„¹ cancelled 0
packages/sdk test: â„¹ skipped 0
packages/sdk test: â„¹ todo 0
packages/sdk test: â„¹ duration_ms 880.342875
packages/sdk test: Done
apps/web test$ TS_NODE_COMPILER_OPTIONS='{"jsx":"react-jsx","allowImportingTsExtensions":true}' node --loader ts-node/esm --test test/api.test.ts test/new-run-helpers.test.ts test/date-range.test.ts test/strategy-controls.test.tsx
packages/data test$ node --loader ts-node/esm --test test/csv-source.test.ts test/data-sources-errors.test.ts test/internal-utils.test.ts test/polygon-source.test.ts test/tiingo-source.test.ts
packages/stats test$ node --loader ts-node/esm --test test/bootstrap.test.ts test/permutation.test.ts
packages/stats test: (node:52206) ExperimentalWarning: `--experimental-loader` may be removed in the future; instead use `register()`:
packages/stats test: --import 'data:text/javascript,import { register } from "node:module"; import { pathToFileURL } from "node:url"; register("ts-node/esm", pathToFileURL("./"));'
packages/stats test: (Use `node --trace-warnings ...` to show where the warning was created)
packages/stats test: (node:52206) [DEP0180] DeprecationWarning: fs.Stats constructor is deprecated.
packages/stats test: (Use `node --trace-deprecation ...` to show where the warning was created)
packages/data test: (node:52205) ExperimentalWarning: `--experimental-loader` may be removed in the future; instead use `register()`:
packages/data test: --import 'data:text/javascript,import { register } from "node:module"; import { pathToFileURL } from "node:url"; register("ts-node/esm", pathToFileURL("./"));'
packages/data test: (Use `node --trace-warnings ...` to show where the warning was created)
packages/data test: (node:52205) [DEP0180] DeprecationWarning: fs.Stats constructor is deprecated.
packages/data test: (Use `node --trace-deprecation ...` to show where the warning was created)
apps/web test: (node:52207) ExperimentalWarning: `--experimental-loader` may be removed in the future; instead use `register()`:
apps/web test: --import 'data:text/javascript,import { register } from "node:module"; import { pathToFileURL } from "node:url"; register("ts-node/esm", pathToFileURL("./"));'
apps/web test: (Use `node --trace-warnings ...` to show where the warning was created)
apps/web test: (node:52207) [DEP0180] DeprecationWarning: fs.Stats constructor is deprecated.
apps/web test: (Use `node --trace-deprecation ...` to show where the warning was created)
packages/stats test: âœ” runBootstrap returns valid structure (2.273416ms)
packages/stats test: âœ” runBootstrap is reproducible with same seed (0.8075ms)
packages/stats test: âœ” runBootstrap handles sharpe ratio (0.217833ms)
packages/stats test: âœ” runBootstrap handles sortino ratio (0.250708ms)
packages/stats test: âœ” runBootstrap handles total return (0.157667ms)
packages/stats test: âœ” runBootstrap handles max drawdown (0.219958ms)
packages/stats test: âœ” runBootstrap confidence interval contains point estimate with high probability (12.37025ms)
packages/stats test: âœ” runBootstrap wider confidence level produces wider intervals (1.500625ms)
packages/stats test: âœ” runBootstrap handles std_dev metric (0.211791ms)
packages/stats test: âœ” runBootstrap throws on empty equity (0.317125ms)
packages/stats test: âœ” interpretBootstrap produces readable output (0.105084ms)
packages/stats test: âœ” interpretBootstrap handles different metrics (0.056833ms)
packages/data test: â–¶ CsvSource loads, dedupes, sorts, and caches bars
packages/data test:   âœ” Cache invalidates after dataset change (3.151709ms)
packages/data test: âœ” CsvSource loads, dedupes, sorts, and caches bars (21.520834ms)
packages/stats test: (node:52210) ExperimentalWarning: `--experimental-loader` may be removed in the future; instead use `register()`:
packages/stats test: --import 'data:text/javascript,import { register } from "node:module"; import { pathToFileURL } from "node:url"; register("ts-node/esm", pathToFileURL("./"));'
packages/stats test: (Use `node --trace-warnings ...` to show where the warning was created)
packages/stats test: (node:52210) [DEP0180] DeprecationWarning: fs.Stats constructor is deprecated.
packages/stats test: (Use `node --trace-deprecation ...` to show where the warning was created)
packages/stats test: âœ” runPermutationTest returns valid structure (2.662291ms)
packages/stats test: âœ” runPermutationTest is reproducible with same seed (0.776375ms)
packages/stats test: âœ” runPermutationTest handles profitable strategy (0.353375ms)
packages/stats test: âœ” runPermutationTest handles losing strategy (0.25575ms)
packages/stats test: âœ” runPermutationTest handles max drawdown metric (0.231416ms)
packages/stats test: âœ” runPermutationTest handles mixed wins and losses (0.380208ms)
packages/stats test: âœ” interpretPermutationTest produces readable output for significant result (0.119708ms)
packages/stats test: âœ” interpretPermutationTest produces readable output for non-significant result (0.065875ms)
packages/stats test: âœ” runPermutationTest defaults alpha to 0.05 when not provided (0.082916ms)
packages/stats test: â„¹ tests 21
packages/stats test: â„¹ suites 0
packages/stats test: â„¹ pass 21
packages/stats test: â„¹ fail 0
packages/stats test: â„¹ cancelled 0
packages/stats test: â„¹ skipped 0
packages/stats test: â„¹ todo 0
packages/stats test: â„¹ duration_ms 1968.564917
packages/stats test: Done
packages/data test: (node:52209) ExperimentalWarning: `--experimental-loader` may be removed in the future; instead use `register()`:
packages/data test: --import 'data:text/javascript,import { register } from "node:module"; import { pathToFileURL } from "node:url"; register("ts-node/esm", pathToFileURL("./"));'
packages/data test: (Use `node --trace-warnings ...` to show where the warning was created)
packages/data test: (node:52209) [DEP0180] DeprecationWarning: fs.Stats constructor is deprecated.
packages/data test: (Use `node --trace-deprecation ...` to show where the warning was created)
packages/data test: âœ” CsvSource throws descriptive error when file doesn't exist (7.671917ms)
packages/data test: âœ” CsvSource handles malformed CSV gracefully (7.840958ms)
packages/data test: âœ” CsvSource handles empty CSV file (5.944417ms)
packages/data test: âœ” CsvSource handles CSV with only headers (5.156291ms)
packages/data test: âœ” CsvSource handles missing required columns (5.2305ms)
packages/data test: âœ” TiingoSource throws error when API key is missing (0.767583ms)
packages/data test: âœ” TiingoSource requires start and end dates (0.131208ms)
packages/data test: âœ” TiingoSource handles HTTP errors gracefully (3.292042ms)
packages/data test: âœ” TiingoSource handles malformed JSON response (1.056625ms)
packages/data test: âœ” TiingoSource handles empty response array (3.796625ms)
packages/data test: âœ” TiingoSource handles non-array response (1.7295ms)
packages/data test: âœ” PolygonSource throws error when API key is missing (0.284167ms)
packages/data test: âœ” PolygonSource requires start and end dates (0.083792ms)
packages/data test: âœ” PolygonSource handles HTTP errors (1.731417ms)
packages/data test: âœ” PolygonSource handles missing results in response (1.44325ms)
packages/data test: âœ” PolygonSource filters out bars with missing data (3.419917ms)
packages/data test: âœ” PolygonSource handles invalid timestamp formats (2.368542ms)
apps/web test: âœ” apiRoute normalizes paths and uses default base (31.298042ms)
apps/web test: âœ” apiRoute respects NEXT_PUBLIC_API_BASE_URL override (3.4055ms)
packages/data test: (node:52212) ExperimentalWarning: `--experimental-loader` may be removed in the future; instead use `register()`:
packages/data test: --import 'data:text/javascript,import { register } from "node:module"; import { pathToFileURL } from "node:url"; register("ts-node/esm", pathToFileURL("./"));'
packages/data test: (Use `node --trace-warnings ...` to show where the warning was created)
packages/data test: (node:52212) [DEP0180] DeprecationWarning: fs.Stats constructor is deprecated.
packages/data test: (Use `node --trace-deprecation ...` to show where the warning was created)
packages/data test: âœ” slugify converts uppercase to lowercase (0.847833ms)
packages/data test: âœ” slugify replaces spaces with underscores (0.0865ms)
packages/data test: âœ” slugify replaces special characters with underscores (0.070166ms)
packages/data test: âœ” slugify removes leading and trailing underscores (0.9205ms)
packages/data test: âœ” slugify collapses consecutive special characters (0.078959ms)
packages/data test: âœ” slugify handles empty string (0.052916ms)
packages/data test: âœ” slugify handles numeric strings (0.058375ms)
packages/data test: âœ” slugify handles mixed alphanumeric (0.060791ms)
packages/data test: âœ” slugify handles unicode characters (0.063708ms)
packages/data test: âœ” sanitizeBar returns valid bar unchanged (0.586083ms)
packages/data test: âœ” sanitizeBar returns null for null input (0.072083ms)
packages/data test: âœ” sanitizeBar returns null for undefined input (0.049083ms)
packages/data test: âœ” sanitizeBar returns null when timestamp is missing (0.061291ms)
packages/data test: âœ” sanitizeBar returns null when timestamp is not a string (0.051875ms)
packages/data test: âœ” sanitizeBar returns null when open is missing (0.055333ms)
packages/data test: âœ” sanitizeBar returns null when open is not a number (0.051625ms)
packages/data test: âœ” sanitizeBar returns null when high is missing (0.044334ms)
packages/data test: âœ” sanitizeBar returns null when low is missing (0.043458ms)
packages/data test: âœ” sanitizeBar returns null when close is missing (0.041792ms)
packages/data test: âœ” sanitizeBar returns null when volume is missing (0.042ms)
packages/data test: âœ” sanitizeBar accepts bar with zero volume (0.051833ms)
packages/data test: âœ” sanitizeBar accepts bar with negative prices (edge case) (0.050292ms)
packages/data test: âœ” sanitizeBar filters out extra properties (0.1025ms)
packages/data test: âœ” filterBarsForRequest includes bars within range (0.11425ms)
packages/data test: âœ” filterBarsForRequest excludes bars before start (0.065083ms)
packages/data test: âœ” filterBarsForRequest excludes bars after end (0.061125ms)
packages/data test: âœ” filterBarsForRequest includes bars at exact boundaries (0.05875ms)
packages/data test: âœ” filterBarsForRequest returns empty array when no bars match (0.052958ms)
packages/data test: âœ” filterBarsForRequest excludes bars with invalid timestamps (0.051208ms)
packages/data test: âœ” filterBarsForRequest handles empty bar array (0.052709ms)
packages/data test: âœ” filterBarsForRequest handles missing start date (0.0505ms)
packages/data test: âœ” filterBarsForRequest handles missing end date (0.054833ms)
packages/data test: âœ” sortBarsChronologically sorts bars in ascending order (0.0795ms)
packages/data test: âœ” sortBarsChronologically handles already sorted bars (0.059042ms)
packages/data test: âœ” sortBarsChronologically handles empty array (0.049792ms)
packages/data test: âœ” sortBarsChronologically handles single bar (0.062583ms)
packages/data test: âœ” sortBarsChronologically handles bars with same timestamp (0.053958ms)
packages/data test: âœ” sortBarsChronologically returns a new array (0.066542ms)
packages/data test: âœ” sortBarsChronologically does not mutate original array (0.0635ms)
packages/data test: âœ” sortBarsChronologically handles bars with invalid timestamps (0.054291ms)
packages/data test: âœ” sortBarsChronologically handles intraday timestamps correctly (0.0585ms)
packages/data test: (node:52213) ExperimentalWarning: `--experimental-loader` may be removed in the future; instead use `register()`:
packages/data test: --import 'data:text/javascript,import { register } from "node:module"; import { pathToFileURL } from "node:url"; register("ts-node/esm", pathToFileURL("./"));'
packages/data test: (Use `node --trace-warnings ...` to show where the warning was created)
packages/data test: (node:52213) [DEP0180] DeprecationWarning: fs.Stats constructor is deprecated.
packages/data test: (Use `node --trace-deprecation ...` to show where the warning was created)
packages/data test: âœ” PolygonSource fetches, caches, and filters aggregates (10.374709ms)
packages/data test: (node:52215) ExperimentalWarning: `--experimental-loader` may be removed in the future; instead use `register()`:
packages/data test: --import 'data:text/javascript,import { register } from "node:module"; import { pathToFileURL } from "node:url"; register("ts-node/esm", pathToFileURL("./"));'
packages/data test: (Use `node --trace-warnings ...` to show where the warning was created)
packages/data test: (node:52215) [DEP0180] DeprecationWarning: fs.Stats constructor is deprecated.
packages/data test: (Use `node --trace-deprecation ...` to show where the warning was created)
packages/data test: âœ” TiingoSource fetches, caches, and filters bars (14.226542ms)
packages/data test: âœ” TiingoSource clamps future end dates before requesting data (8.123833ms)
packages/data test: âœ” TiingoSource skips HTTP requests when entire range is in the future (0.974667ms)
packages/data test: âœ” TiingoSource retries with an earlier end date after Tiingo rejects the range (2.127375ms)
packages/data test: âœ” TiingoSource splits long requests into multiple chunks (4.302625ms)
packages/data test: âœ” TiingoSource retries after rate limit by waiting before reissuing the same chunk (2.332542ms)
packages/data test: â„¹ tests 67
packages/data test: â„¹ suites 0
packages/data test: â„¹ pass 67
packages/data test: â„¹ fail 0
packages/data test: â„¹ cancelled 0
packages/data test: â„¹ skipped 0
packages/data test: â„¹ todo 0
packages/data test: â„¹ duration_ms 2144.596209
packages/data test: Done
apps/web test: (node:52208) ExperimentalWarning: `--experimental-loader` may be removed in the future; instead use `register()`:
apps/web test: --import 'data:text/javascript,import { register } from "node:module"; import { pathToFileURL } from "node:url"; register("ts-node/esm", pathToFileURL("./"));'
apps/web test: (Use `node --trace-warnings ...` to show where the warning was created)
apps/web test: (node:52208) [DEP0180] DeprecationWarning: fs.Stats constructor is deprecated.
apps/web test: (Use `node --trace-deprecation ...` to show where the warning was created)
apps/web test: âœ” computeAvailableRange picks tiingo range when available (0.697708ms)
apps/web test: âœ” computeAvailableRange aggregates auto range from remote sources (0.567792ms)
apps/web test: âœ” computeAvailableRange falls back to csv coverage when remote missing (0.088375ms)
apps/web test: âœ” computeAvailableRange returns null when no dataset exists (0.061625ms)
apps/web test: (node:52211) ExperimentalWarning: `--experimental-loader` may be removed in the future; instead use `register()`:
apps/web test: --import 'data:text/javascript,import { register } from "node:module"; import { pathToFileURL } from "node:url"; register("ts-node/esm", pathToFileURL("./"));'
apps/web test: (Use `node --trace-warnings ...` to show where the warning was created)
apps/web test: (node:52211) [DEP0180] DeprecationWarning: fs.Stats constructor is deprecated.
apps/web test: (Use `node --trace-deprecation ...` to show where the warning was created)
apps/web test: âœ” generateRunName slugs strings and lowercases (0.773625ms)
apps/web test: âœ” buildDatasetOverride returns undefined when flag or dataset missing (0.103208ms)
apps/web test: âœ” buildDatasetOverride maps dataset fields when provided (1.250916ms)
apps/web test: âœ” buildDatasetOverride falls back to current date when dataset is missing range (0.165333ms)
apps/web test: âœ” buildRequestSafely returns a fully typed BacktestRequest (1.345334ms)
apps/web test: âœ” buildRequestSafely omits metrics when list is empty (0.146708ms)
apps/web test: âœ” buildRequestSafely surfaces strategy validation errors (0.431542ms)
apps/web test: âœ” buildRequestSafely handles optional seed and numeric coercion (0.116208ms)
apps/web test: âœ” buildRequestSafely surfaces errors for missing run name (0.168583ms)
apps/web test: âœ” buildRequestSafely requires non-empty symbol (0.191708ms)
apps/web test: âœ” buildRequestSafely validates timeframe values (0.088ms)
apps/web test: âœ” buildRequestSafely validates date format and ordering (0.111334ms)
apps/web test: âœ” buildRequestSafely rejects negative or invalid numeric fields (0.182375ms)
apps/web test: âœ” buildRequestSafely applies dataset override when present (0.152125ms)
apps/web test: âœ” buildRequestSafely validates dataset override contents (0.094458ms)
apps/web test: (node:52214) ExperimentalWarning: `--experimental-loader` may be removed in the future; instead use `register()`:
apps/web test: --import 'data:text/javascript,import { register } from "node:module"; import { pathToFileURL } from "node:url"; register("ts-node/esm", pathToFileURL("./"));'
apps/web test: (Use `node --trace-warnings ...` to show where the warning was created)
apps/web test: (node:52214) [DEP0180] DeprecationWarning: fs.Stats constructor is deprecated.
apps/web test: (Use `node --trace-deprecation ...` to show where the warning was created)
apps/web test: âœ” mapZodIssues maps field errors to a lookup object (0.914459ms)
apps/web test: âœ” StrategyControls renders inputs with expected defaults (56.22875ms)
apps/web test: âœ” StrategyControls surfaces field errors next to the input (3.064083ms)
apps/web test: â„¹ tests 24
apps/web test: â„¹ suites 0
apps/web test: â„¹ pass 24
apps/web test: â„¹ fail 0
apps/web test: â„¹ cancelled 0
apps/web test: â„¹ skipped 0
apps/web test: â„¹ todo 0
apps/web test: â„¹ duration_ms 3489.236
apps/web test: Done
packages/engine test$ tsc -p tsconfig.test.json && node --test dist-test/test/engine.test.js dist-test/test/engine-integration.test.js
packages/engine test: [customStrategyLoader] Loading custom strategies from: /Users/gong/Programming/Projects/crucible-trader/packages/storage/strategies/custom
packages/engine test: [engine] Waiting for custom strategies to load...
packages/engine test: [customStrategyLoader] Could not load custom strategies: Error: ENOENT: no such file or directory, scandir '/Users/gong/Programming/Projects/crucible-trader/packages/storage/strategies/custom'
packages/engine test:     at async readdir (node:internal/fs/promises:958:18)
packages/engine test:     at async loadCustomStrategies (file:///Users/gong/Programming/Projects/crucible-trader/packages/engine/dist-test/src/customStrategyLoader.js:23:23)
packages/engine test:     at async runBacktest (file:///Users/gong/Programming/Projects/crucible-trader/packages/engine/dist-test/src/engine.js:110:9)
packages/engine test:     at async assert.rejects.message (file:///Users/gong/Programming/Projects/crucible-trader/packages/engine/dist-test/test/engine-integration.test.js:55:9)
packages/engine test:     at async waitForActual (node:assert:646:5)
packages/engine test:     at async strict.rejects (node:assert:769:25)
packages/engine test:     at async TestContext.<anonymous> (file:///Users/gong/Programming/Projects/crucible-trader/packages/engine/dist-test/test/engine-integration.test.js:54:5)
packages/engine test:     at async Test.run (node:internal/test_runner/test:1113:7)
packages/engine test:     at async startSubtestAfterBootstrap (node:internal/test_runner/harness:358:3) {
packages/engine test:   errno: -2,
packages/engine test:   code: 'ENOENT',
packages/engine test:   syscall: 'scandir',
packages/engine test:   path: '/Users/gong/Programming/Projects/crucible-trader/packages/storage/strategies/custom'
packages/engine test: }
packages/engine test: [engine] Registering 0 custom strategies into STRATEGY_REGISTRY
packages/engine test: [engine] Total strategies registered: [
packages/engine test:   'sma_crossover',
packages/engine test:   'momentum',
packages/engine test:   'mean_reversion',
packages/engine test:   'breakout',
packages/engine test:   'chaos_trader'
packages/engine test: ]
packages/engine test: [engine] Custom strategies loaded
packages/engine test: âœ” runBacktest fails when data source file is missing (5.372333ms)
packages/engine test: âœ” runBacktest fails with empty data array (0.581709ms)
packages/engine test: [engine] Attempting to instantiate strategy: "nonexistent_strategy"
packages/engine test: [engine] Available strategies: [
packages/engine test:   'sma_crossover',
packages/engine test:   'momentum',
packages/engine test:   'mean_reversion',
packages/engine test:   'breakout',
packages/engine test:   'chaos_trader'
packages/engine test: ]
packages/engine test: âœ” runBacktest fails with unknown strategy (4.106292ms)
packages/engine test: [engine] Attempting to instantiate strategy: "sma_crossover"
packages/engine test: [engine] Available strategies: [
packages/engine test:   'sma_crossover',
packages/engine test:   'momentum',
packages/engine test:   'mean_reversion',
packages/engine test:   'breakout',
packages/engine test:   'chaos_trader'
packages/engine test: ]
packages/engine test: [engine] Found strategy module for "sma_crossover"
packages/engine test: âœ” runBacktest validates strategy parameters (2.679875ms)
packages/engine test: [engine] Attempting to instantiate strategy: "sma_crossover"
packages/engine test: [engine] Available strategies: [
packages/engine test:   'sma_crossover',
packages/engine test:   'momentum',
packages/engine test:   'mean_reversion',
packages/engine test:   'breakout',
packages/engine test:   'chaos_trader'
packages/engine test: ]
packages/engine test: [engine] Found strategy module for "sma_crossover"
packages/engine test: [engine] Attempting to instantiate strategy: "sma_crossover"
packages/engine test: [engine] Available strategies: [
packages/engine test:   'sma_crossover',
packages/engine test:   'momentum',
packages/engine test:   'mean_reversion',
packages/engine test:   'breakout',
packages/engine test:   'chaos_trader'
packages/engine test: ]
packages/engine test: [engine] Found strategy module for "sma_crossover"
packages/engine test: âœ” runBacktest generates deterministic results with same seed (52.268084ms)
packages/engine test: âœ” runBacktest handles zero initial cash (1.232833ms)
packages/engine test: âœ” runBacktest handles negative costs (0.959166ms)
packages/engine test: [engine] Attempting to instantiate strategy: "sma_crossover"
packages/engine test: [engine] Available strategies: [
packages/engine test:   'sma_crossover',
packages/engine test:   'momentum',
packages/engine test:   'mean_reversion',
packages/engine test:   'breakout',
packages/engine test:   'chaos_trader'
packages/engine test: ]
packages/engine test: [engine] Found strategy module for "sma_crossover"
packages/engine test: âœ” runBacktest creates all required artifacts (22.289583ms)
packages/engine test: [engine] Attempting to instantiate strategy: "sma_crossover"
packages/engine test: [engine] Available strategies: [
packages/engine test:   'sma_crossover',
packages/engine test:   'momentum',
packages/engine test:   'mean_reversion',
packages/engine test:   'breakout',
packages/engine test:   'chaos_trader'
packages/engine test: ]
packages/engine test: [engine] Found strategy module for "sma_crossover"
packages/engine test: âœ” runBacktest enforces risk limits - kill switch on drawdown (23.550625ms)
packages/engine test: âœ” runBacktest handles invalid date ranges (0.560333ms)
packages/engine test: [engine] Attempting to instantiate strategy: "sma_crossover"
packages/engine test: [engine] Available strategies: [
packages/engine test:   'sma_crossover',
packages/engine test:   'momentum',
packages/engine test:   'mean_reversion',
packages/engine test:   'breakout',
packages/engine test:   'chaos_trader'
packages/engine test: ]
packages/engine test: [engine] Found strategy module for "sma_crossover"
packages/engine test: âœ” runBacktest validates all metric keys are recognized (19.307584ms)
packages/engine test: [customStrategyLoader] Loading custom strategies from: /Users/gong/Programming/Projects/crucible-trader/packages/storage/strategies/custom
packages/engine test: [engine] Waiting for custom strategies to load...
packages/engine test: [customStrategyLoader] Could not load custom strategies: Error: ENOENT: no such file or directory, scandir '/Users/gong/Programming/Projects/crucible-trader/packages/storage/strategies/custom'
packages/engine test:     at async readdir (node:internal/fs/promises:958:18)
packages/engine test:     at async loadCustomStrategies (file:///Users/gong/Programming/Projects/crucible-trader/packages/engine/dist-test/src/customStrategyLoader.js:23:23)
packages/engine test:     at async runBacktest (file:///Users/gong/Programming/Projects/crucible-trader/packages/engine/dist-test/src/engine.js:110:9)
packages/engine test:     at async TestContext.<anonymous> (file:///Users/gong/Programming/Projects/crucible-trader/packages/engine/dist-test/test/engine.test.js:49:20)
packages/engine test:     at async Test.run (node:internal/test_runner/test:1113:7)
packages/engine test:     at async startSubtestAfterBootstrap (node:internal/test_runner/harness:358:3) {
packages/engine test:   errno: -2,
packages/engine test:   code: 'ENOENT',
packages/engine test:   syscall: 'scandir',
packages/engine test:   path: '/Users/gong/Programming/Projects/crucible-trader/packages/storage/strategies/custom'
packages/engine test: }
packages/engine test: [engine] Registering 0 custom strategies into STRATEGY_REGISTRY
packages/engine test: [engine] Total strategies registered: [
packages/engine test:   'sma_crossover',
packages/engine test:   'momentum',
packages/engine test:   'mean_reversion',
packages/engine test:   'breakout',
packages/engine test:   'chaos_trader'
packages/engine test: ]
packages/engine test: [engine] Custom strategies loaded
packages/engine test: [engine] Attempting to instantiate strategy: "sma_crossover"
packages/engine test: [engine] Available strategies: [
packages/engine test:   'sma_crossover',
packages/engine test:   'momentum',
packages/engine test:   'mean_reversion',
packages/engine test:   'breakout',
packages/engine test:   'chaos_trader'
packages/engine test: ]
packages/engine test: [engine] Found strategy module for "sma_crossover"
packages/engine test: âœ” runBacktest executes SMA crossover strategy successfully (34.607917ms)
packages/engine test: â„¹ tests 12
packages/engine test: â„¹ suites 0
packages/engine test: â„¹ pass 12
packages/engine test: â„¹ fail 0
packages/engine test: â„¹ cancelled 0
packages/engine test: â„¹ skipped 0
packages/engine test: â„¹ todo 0
packages/engine test: â„¹ duration_ms 334.90325
packages/engine test: Done
services/api test$ pnpm run build && node --loader ts-node/esm --test src/db/index.test.ts test/queue.test.ts test/dataset-ensurer.test.ts && node test/runs.e2e.test.js
services/api test: > @crucible-trader/api@0.0.1 build /Users/gong/Programming/Projects/crucible-trader/services/api
services/api test: > tsc -p .
services/api test: (node:52416) ExperimentalWarning: `--experimental-loader` may be removed in the future; instead use `register()`:
services/api test: --import 'data:text/javascript,import { register } from "node:module"; import { pathToFileURL } from "node:url"; register("ts-node/esm", pathToFileURL("./"));'
services/api test: (Use `node --trace-warnings ...` to show where the warning was created)
services/api test: (node:52416) [DEP0180] DeprecationWarning: fs.Stats constructor is deprecated.
services/api test: (Use `node --trace-deprecation ...` to show where the warning was created)
services/api test: âœ” insertRun persists metadata and listRuns returns it (59.765208ms)
services/api test: âœ” saveRunResult stores summary and artifacts for later retrieval (3.130625ms)
services/api test: âœ” reset clears runs and artifacts tables (2.311417ms)
services/api test: âœ” upsertDataset persists metadata (1.836125ms)
services/api test: âœ” risk profiles can be stored and retrieved (2.250333ms)
services/api test: âœ” stat tests can be stored and retrieved (1.731959ms)
services/api test: (node:52417) ExperimentalWarning: `--experimental-loader` may be removed in the future; instead use `register()`:
services/api test: --import 'data:text/javascript,import { register } from "node:module"; import { pathToFileURL } from "node:url"; register("ts-node/esm", pathToFileURL("./"));'
services/api test: (Use `node --trace-warnings ...` to show where the warning was created)
services/api test: (node:52417) [DEP0180] DeprecationWarning: fs.Stats constructor is deprecated.
services/api test: (Use `node --trace-deprecation ...` to show where the warning was created)
services/api test: âœ” clampDataRequestRange truncates future end dates (2.143417ms)
services/api test: âœ” clampDataRequestRange snaps start to clamped end when entire range is future (0.178292ms)
services/api test: âœ” clampDataRequestRange returns original reference when range already valid (0.078417ms)
services/api test: (node:52418) ExperimentalWarning: `--experimental-loader` may be removed in the future; instead use `register()`:
services/api test: --import 'data:text/javascript,import { register } from "node:module"; import { pathToFileURL } from "node:url"; register("ts-node/esm", pathToFileURL("./"));'
services/api test: (Use `node --trace-warnings ...` to show where the warning was created)
services/api test: (node:52418) [DEP0180] DeprecationWarning: fs.Stats constructor is deprecated.
services/api test: (Use `node --trace-deprecation ...` to show where the warning was created)
services/api test: âœ” JobQueue can be instantiated with database (4.089542ms)
services/api test: âœ” JobQueue accepts custom poll interval (1.132084ms)
services/api test: âœ” JobQueue.onJob registers handler and starts polling (203.241125ms)
services/api test: âœ” JobQueue processes queued jobs (224.5115ms)
services/api test: âœ” JobQueue.stop stops polling (275.297958ms)
services/api test: âœ” JobQueue updates job status to processing (74.500417ms)
services/api test: âœ” JobQueue handles handler errors gracefully (104.295416ms)
services/api test: âœ” JobQueue handles invalid JSON in requestJson (102.384083ms)
services/api test: âœ” JobQueue supports multiple handlers (101.964834ms)
services/api test: âœ” JobQueue.enqueue triggers immediate poll (1.75725ms)
services/api test: âœ” JobQueue does not process same job twice (201.718375ms)
services/api test: âœ” JobQueue ignores jobs with status other than queued (153.851834ms)
services/api test: âœ” JobQueue processes jobs in order (325.585917ms)
services/api test: â„¹ tests 22
services/api test: â„¹ suites 0
services/api test: â„¹ pass 22
services/api test: â„¹ fail 0
services/api test: â„¹ cancelled 0
services/api test: â„¹ skipped 0
services/api test: â„¹ todo 0
services/api test: â„¹ duration_ms 2897.832708
services/api test: [customStrategyLoader] Loading custom strategies from: /Users/gong/Programming/Projects/crucible-trader/storage/strategies/custom
services/api test: [customStrategyLoader] Found files: [
services/api test:   '.gitkeep',
services/api test:   'README.md',
services/api test:   'coil-pulse-reverter.ts',
services/api test:   'simple-sma-crossover.meta.json',
services/api test:   'simple-sma-crossover.ts',
services/api test:   'tsconfig.json'
services/api test: ]
services/api test: [customStrategyLoader] Strategy files to load: [ 'coil-pulse-reverter.ts', 'simple-sma-crossover.ts' ]
services/api test: [customStrategyLoader] âœ“ Loaded custom strategy: coil-pulse-reverter (coil-pulse-reverter.ts)
services/api test: [customStrategyLoader] âœ“ Loaded custom strategy: Simple SMA Crossover (simple-sma-crossover.ts)
services/api test: [customStrategyLoader] Successfully loaded 2 custom strategies: [ 'coil-pulse-reverter', 'Simple SMA Crossover' ]
services/api test: [engine] Registering 2 custom strategies into STRATEGY_REGISTRY
services/api test: [engine] Total strategies registered: [
services/api test:   'sma_crossover',
services/api test:   'momentum',
services/api test:   'mean_reversion',
services/api test:   'breakout',
services/api test:   'chaos_trader',
services/api test:   'coil-pulse-reverter',
services/api test:   'Simple SMA Crossover'
services/api test: ]
services/api test: [engine] Attempting to instantiate strategy: "sma_crossover"
services/api test: [engine] Available strategies: [
services/api test:   'sma_crossover',
services/api test:   'momentum',
services/api test:   'mean_reversion',
services/api test:   'breakout',
services/api test:   'chaos_trader',
services/api test:   'coil-pulse-reverter',
services/api test:   'Simple SMA Crossover'
services/api test: ]
services/api test: [engine] Found strategy module for "sma_crossover"
services/api test: âœ” POST /api/runs executes a backtest end-to-end (76.781833ms)
services/api test: â„¹ tests 1
services/api test: â„¹ suites 0
services/api test: â„¹ pass 1
services/api test: â„¹ fail 0
services/api test: â„¹ cancelled 0
services/api test: â„¹ skipped 0
services/api test: â„¹ todo 0
services/api test: â„¹ duration_ms 79.669708
services/api test: Done
services/backtest-worker test$ CRUCIBLE_WORKER_AUTOSTART=false node --loader ts-node/esm --test test/backtest-worker.test.ts
services/backtest-worker test: (node:52615) ExperimentalWarning: `--experimental-loader` may be removed in the future; instead use `register()`:
services/backtest-worker test: --import 'data:text/javascript,import { register } from "node:module"; import { pathToFileURL } from "node:url"; register("ts-node/esm", pathToFileURL("./"));'
services/backtest-worker test: (Use `node --trace-warnings ...` to show where the warning was created)
services/backtest-worker test: (node:52615) [DEP0180] DeprecationWarning: fs.Stats constructor is deprecated.
services/backtest-worker test: (Use `node --trace-deprecation ...` to show where the warning was created)
services/backtest-worker test: [customStrategyLoader] Loading custom strategies from: /Users/gong/Programming/Projects/crucible-trader/storage/strategies/custom
services/backtest-worker test: [dotenv@17.2.3] injecting env (2) from ../../.env -- tip: ğŸ“¡ add observability to secrets: https://dotenvx.com/ops
services/backtest-worker test: [dotenv@17.2.3] injecting env (0) from .env -- tip: ğŸ” prevent committing .env to code: https://dotenvx.com/precommit
services/backtest-worker test: [customStrategyLoader] Found files: [
services/backtest-worker test:   '.gitkeep',
services/backtest-worker test:   'README.md',
services/backtest-worker test:   'coil-pulse-reverter.ts',
services/backtest-worker test:   'simple-sma-crossover.meta.json',
services/backtest-worker test:   'simple-sma-crossover.ts',
services/backtest-worker test:   'tsconfig.json'
services/backtest-worker test: ]
services/backtest-worker test: [customStrategyLoader] Strategy files to load: [ 'coil-pulse-reverter.ts', 'simple-sma-crossover.ts' ]
services/backtest-worker test: [customStrategyLoader] âœ“ Loaded custom strategy: coil-pulse-reverter (coil-pulse-reverter.ts)
services/backtest-worker test: [customStrategyLoader] âœ“ Loaded custom strategy: Simple SMA Crossover (simple-sma-crossover.ts)
services/backtest-worker test: [customStrategyLoader] Successfully loaded 2 custom strategies: [ 'coil-pulse-reverter', 'Simple SMA Crossover' ]
services/backtest-worker test: [engine] Registering 2 custom strategies into STRATEGY_REGISTRY
services/backtest-worker test: [engine] Total strategies registered: [
services/backtest-worker test:   'sma_crossover',
services/backtest-worker test:   'momentum',
services/backtest-worker test:   'mean_reversion',
services/backtest-worker test:   'breakout',
services/backtest-worker test:   'chaos_trader',
services/backtest-worker test:   'coil-pulse-reverter',
services/backtest-worker test:   'Simple SMA Crossover'
services/backtest-worker test: ]
services/backtest-worker test: âœ” createManifestWriter writes manifest with defaults and dataset metadata (10.328375ms)
services/backtest-worker test: âœ” createManifestWriter keeps explicit report path and metadata (5.502708ms)
services/backtest-worker test: âœ” createJobHandler processes job successfully and persists result (2.301209ms)
services/backtest-worker test: âœ” createJobHandler skips risk profile lookup when not provided (0.175584ms)
services/backtest-worker test: âœ” createJobHandler marks runs as failed when runBacktest throws (1.161958ms)
services/backtest-worker test: â„¹ tests 5
services/backtest-worker test: â„¹ suites 0
services/backtest-worker test: â„¹ pass 5
services/backtest-worker test: â„¹ fail 0
services/backtest-worker test: â„¹ cancelled 0
services/backtest-worker test: â„¹ skipped 0
services/backtest-worker test: â„¹ todo 0
services/backtest-worker test: â„¹ duration_ms 933.759541
services/backtest-worker test: Done
